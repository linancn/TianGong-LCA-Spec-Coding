# Example secrets configuration for Tiangong LCA spec coding workflow.
# Copy to .secrets/secrets.toml and replace placeholder values with real credentials.

[openai]
api_key = "<YOUR_OPENAI_API_KEY>"
model = "gpt-5"
# Optional: set this when targeting an OpenAI-compatible endpoint (e.g., ZhipuAI, Fireworks).
# Leave empty or remove to use api.openai.com.
base_url = ""

[tiangong_lca_remote]
transport = "streamable_http"
service_name = "tiangong_lca_remote"
url = "https://lcamcp.tiangong.earth/mcp"
api_key = "<YOUR_TG_LCA_REMOTE_API_KEY>"
timeout = 180  # seconds

[tiangong_kb_remote]
transport = "streamable_http"
service_name = "TianGong_KB_Remote"
url = "https://mcp.tiangong.earth/mcp"
api_key = "<YOUR_TG_KB_REMOTE_API_KEY>"
timeout = 180  # seconds

[tavily_web_mcp]
# Tavily MCP 集成，用于联网检索。将 api_key 替换为你的 Tavily 密钥。
transport = "streamable_http"
service_name = "tavily"
url = "https://mcp.tavily.com/mcp"
api_key = "<YOUR_TAVILY_API_KEY>"
api_key_header = "Authorization"
api_key_prefix = "Bearer"

[kb]
base_url = "https://<YOUR_KNOWLEDGE_BASE_HOST>/v1"
dataset_id = "<YOUR_DATASET_ID>"
api_key = "<YOUR_DATASET_API_KEY>"
timeout = 60  # seconds

[[kb.metadata_fields]]
name = "meta"
type = "string"
source = "meta"

[[kb.metadata_fields]]
name = "category"
type = "string"
source = "category"

[kb.pipeline]
datasource_type = "local_file"
start_node_id = "<PIPELINE_DATASOURCE_NODE_ID>"
is_published = true
response_mode = "blocking"

[minio]
endpoint = "<YOUR_MINIO_ENDPOINT>"
access_key = "<YOUR_MINIO_ACCESS_KEY>"
secret_key = "<YOUR_MINIO_SECRET_KEY>"
bucket_name = "<YOUR_MINIO_BUCKET_NAME>"
prefix = "<YOUR_MINIO_PREFIX>"

[tiangong_mineru_with_image]
transport = "streamable_http"
service_name = "tiangong_mineru_with_image"
url = "<YOUR_TG_MINERU_WITH_IMAGE_URL>"
api_key = "<YOUR_TG_MINERU_WITH_IMAGE_API_KEY>"
api_key_header = "Authorization"
api_key_prefix = "Bearer"
# Optional form-data fields; leave empty to omit.
provider = "<YOUR_MINERU_PROVIDER>"
model = "<YOUR_MINERU_MODEL>"
chunk_type = true
timeout = 180  # seconds
verify_ssl = true
